{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Libroteka</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>

 
  <body style="background-color: #e7e0d8; padding-top: 70px;">
  <header>
    {% include 'LibrotekaApp/navbar.html' %}
  </header>
  
    <div class="container-fluid">
      <div id="carouselExampleAutoplaying" class="carousel slide">
        <div class="container">
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#carouselExampleAutoplaying"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Slide 1"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleAutoplaying"
              data-bs-slide-to="1"
              aria-label="Slide 2"
            ></button>
            <button
              type="button"
              data-bs-target="#carouselExampleAutoplaying"
              data-bs-slide-to="2"
              aria-label="Slide 3"
            ></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="../assets/carruseln1.jpg"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                src="../assets/carruseln2.jpg"
                class="d-block w-100"
                alt="..."
              />
            </div>
            <div class="carousel-item">
              <img
                src="../assets/carruseln3.jpg"
                class="d-block w-100"
                alt="..."
              />
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleAutoplaying"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleAutoplaying"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="card h-100 mb-3">
            <div class="card-body text-center">
              <div class="alert alert-info" role="alert">
                <h2>CREÁ TU CUENTA</h2>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="card h-100 mb-3">
            <div class="card-body">
              <div class="mb-3">
                <form action="{% url 'inicio' %}" method="post" id="miFormulario">
                  <p style="color: rgb(19, 19, 103)">
                    <strong>Información Personal</strong>
                  </p>
                  <div class="row">
                    <div class="col">
                      <label for="nombreInput" class="form-label"
                        >Nombre<span style="color: red">*</span></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="nombreInput"
                        minlength="2"
                        maxlength="30"
                        required
                        placeholder="Ingrese su nombre"
                      />
                      <div class="form-text">
                        <span id="mensajeErrorNombre" style="color: red"></span>
                      </div>
                    </div>
                    <div class="col">
                      <label for="apellidoInput" class="form-label"
                        >Apellido<span style="color: red">*</span></label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="apellidoInput"
                        minlength="2"
                        maxlength="35"
                        required
                        placeholder="Ingrese su apellido"
                      />
                      <div class="form-text">
                        <span
                          id="mensajeErrorApellido"
                          style="color: red"
                        ></span>
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="dni" class="form-label"
                      >Número de DNI<span style="color: red">*</span></label
                    >
                    <input
                      type="number"
                      class="form-control"
                      id="dni"
                      placeholder="Ingrese su número de DNI"
                      required
                      oninput="validarDNI(this.value)"
                    />
                    <div class="form-text">
                      <span id="mensajeErrorDni" style="color: red"></span>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label for="idE" class="form-label"
                      >Dirección de email<span style="color: red"
                        >*</span
                      ></label
                    >
                    <input
                      type="email"
                      class="form-control"
                      id="idE"
                      placeholder="Ingrese su correo electrónico"
                    />
                    <div class="form-text">
                      <span id="mensajeErrorCorreo" style="color: red"></span>
                    </div>
                  </div>
                  <p style="color: rgb(19, 19, 103)">
                    <strong>Información de inicio de sesión</strong>
                  </p>
                  <div class="row">
                    <div class="col">
                      <label for="InputPassword" class="form-label"
                        >Contraseña<span style="color: red">*</span></label
                      >
                      <input
                        type="password"
                        class="form-control"
                        id="InputPassword"
                        required
                      />
                      <div class="form-text">
                        <span
                          id="mensajeErrorPassword"
                          style="color: red"
                        ></span>
                      </div>
                    </div>
                    <div class="col">
                      <label for="InputConfirmPassword" class="form-label">
                        Confirme contraseña<span style="color: red">*</span>
                      </label>
                      <input
                        type="password"
                        class="form-control"
                        id="InputConfirmPassword"
                        required
                      />
                      <div class="form-check">
                        <input
                          type="checkbox"
                          class="form-check-input"
                          id="Check"
                        />
                        <label class="form-check-label" for="Check"
                          >Suscribirse al boletín de novedades</label
                        >
                      </div>
                    </div>
                  </div>
                  <div class="text-center">
                    <button type="submit" class="btn btn-primary">
                      Enviar
                    </button>
                    <p>
                      <strong
                        ><a href="{% url 'inicio' %}" style="color: rgb(19, 19, 103)"
                          >Volver atrás</a
                        ></strong
                      >
                    </p>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      {% include 'LibrotekaApp/footer.html' %}
    </footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
      crossorigin="anonymous"
    ></script>
    <!-- validacion Nombre -->
    <script>
      document
        .getElementById("nombreInput")
        .addEventListener("blur", function () {
          var nombreValidar = this.value;
          var nombreRegex = /^[a-zA-Z\-']+$/;
          if (!nombreRegex.test(nombreValidar)) {
            document.getElementById("mensajeErrorNombre").textContent =
              "Debe contener caracteres alfabéticos";
          } else {
            document.getElementById("mensajeErrorNombre").textContent = "";
          }
        });
    </script>
    <!-- validacion Apellido -->
    <script>
      document
        .getElementById("apellidoInput")
        .addEventListener("blur", function () {
          var apellidoValidar = this.value;
          var apellidoRegex = /^[a-zA-Z\-']+$/;
          if (!apellidoRegex.test(apellidoValidar)) {
            document.getElementById("mensajeErrorApellido").textContent =
              "Debe contener caracteres alfabéticos";
          } else {
            document.getElementById("mensajeErrorApellido").textContent = "";
          }
        });
    </script>
    <!-- validacion DNI -->
    <script>
      document.getElementById("dni").addEventListener("blur", function () {
        var dniValidar = this.value;
        const dniRegex = /^[0-9]{8}$/;
        if (!dniRegex.test(dniValidar)) {
          document.getElementById("mensajeErrorDni").textContent =
            "Debe contener 8 dígitos";
        } else {
          document.getElementById("mensajeErrorDni").textContent = "";
        }
      });
    </script>
    <!-- validacion correo -->
    <script>
      document.getElementById("idE").addEventListener("blur", function () {
        var emailInput = this.value;
        var emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
        if (!emailRegex.test(emailInput)) {
          document.getElementById("mensajeErrorCorreo").textContent =
            "Debe ser un formato de correo válido";
        } else {
          document.getElementById("mensajeErrorCorreo").textContent = "";
        }
      });
    </script>
    <!-- validacion contraseña -->
    <script>
      document
        .getElementById("InputPassword")
        .addEventListener("blur", function () {
          var passwordValidar = this.value;
          var passwordRegex =
            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
          if (!passwordRegex.test(passwordValidar)) {
            document.getElementById("mensajeErrorPassword").textContent =
              "Debe contener al menos una minúscula, una mayúscula, un caracter especial y entre 2 y 8 caracteres.";
          } else {
            document.getElementById("mensajeErrorPassword").textContent = "";
          }
        });
    </script>
    <!-- verificacion repeticion de contraseña  -->
    <script>
      var passwordInput = document.getElementById("InputPassword");
      var confirmPasswordInput = document.getElementById(
        "InputConfirmPassword"
      );
      var mensajeErrorPassword = document.getElementById(
        "mensajeErrorPassword"
      );

      confirmPasswordInput.addEventListener("input", function () {
        var password = passwordInput.value;
        var confirmPassword = confirmPasswordInput.value;

        if (password === confirmPassword) {
          mensajeErrorPassword.textContent = "";
        } else {
          mensajeErrorPassword.textContent = "Las contraseñas no coinciden";
        }
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const formulario = document.getElementById("miFormulario");

        formulario.addEventListener("submit", function (event) {
          event.preventDefault();
          window.location.href = "../index.html";
        });
      });
    </script>

    <script src="{% static 'LibrotekaApp/script.js' %}"></script>
  </body>
</html>